<ion-header>
  <ion-toolbar>
    <ion-title>
      Publicaciones
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-card *ngFor="let publicacion of publicaciones">
      <ion-card-header>
        {{ publicacion.usuario }}
      </ion-card-header>
      <ion-card-content>
        <ion-img *ngIf="publicacion.tipo === 'imagen'" [src]="publicacion.imagenUrl"></ion-img>
        <iframe *ngIf="publicacion.tipo === 'video'" width="100%" height="315" [src]="getSafeVideoUrl(publicacion.videoUrl)" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        <p>{{ publicacion.texto }}</p>
      </ion-card-content>
      <ion-button (click)="abrirComentarios(publicacion)" expand="block">Comentar</ion-button>
    </ion-card>
  </ion-list>
</ion-content>
